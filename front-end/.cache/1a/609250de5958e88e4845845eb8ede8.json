{"id":"zRAV","dependencies":[{"name":"/home/admi/work/space-rep-public/front-end/.babelrc","includedInParent":true,"mtime":1576491990768},{"name":"/home/admi/work/space-rep-public/front-end/package.json","includedInParent":true,"mtime":1576645054260},{"name":"react","loc":{"line":1,"column":43},"parent":"/home/admi/work/space-rep-public/front-end/src/components/login/Login.js","resolved":"/home/admi/work/space-rep-public/front-end/node_modules/react/index.js"},{"name":"./login.css","loc":{"line":2,"column":7},"parent":"/home/admi/work/space-rep-public/front-end/src/components/login/Login.js","resolved":"/home/admi/work/space-rep-public/front-end/src/components/login/login.css"},{"name":"react-router-dom","loc":{"line":3,"column":25},"parent":"/home/admi/work/space-rep-public/front-end/src/components/login/Login.js","resolved":"/home/admi/work/space-rep-public/front-end/node_modules/react-router-dom/esm/react-router-dom.js"},{"name":"../navbar/Nav-register","loc":{"line":4,"column":19},"parent":"/home/admi/work/space-rep-public/front-end/src/components/login/Login.js","resolved":"/home/admi/work/space-rep-public/front-end/src/components/navbar/Nav-register.js"},{"name":"../Config","loc":{"line":5,"column":16},"parent":"/home/admi/work/space-rep-public/front-end/src/components/login/Login.js","resolved":"/home/admi/work/space-rep-public/front-end/src/components/Config.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=void 0;var e=l(require(\"react\"));require(\"./login.css\");var t=require(\"react-router-dom\"),r=a(require(\"../navbar/Nav-register\")),n=a(require(\"../Config\"));function a(e){return e&&e.__esModule?e:{default:e}}function i(){if(\"function\"!=typeof WeakMap)return null;var e=new WeakMap;return i=function(){return e},e}function l(e){if(e&&e.__esModule)return e;if(null===e||\"object\"!=typeof e&&\"function\"!=typeof e)return{default:e};var t=i();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var l=n?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(r,a,l):r[a]=e[a]}return r.default=e,t&&t.set(e,r),r}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(r,!0).forEach(function(t){s(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e,t){return d(e)||p(e,t)||f()}function f(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}function p(e,t){if(Symbol.iterator in Object(e)||\"[object Arguments]\"===Object.prototype.toString.call(e)){var r=[],n=!0,a=!1,i=void 0;try{for(var l,o=e[Symbol.iterator]();!(n=(l=o.next()).done)&&(r.push(l.value),!t||r.length!==t);n=!0);}catch(u){a=!0,i=u}finally{try{n||null==o.return||o.return()}finally{if(a)throw i}}return r}}function d(e){if(Array.isArray(e))return e}function m(){var a=c((0,e.useState)({}),2),i=a[0],l=a[1],o=c((0,e.useState)({}),2),f=o[0],p=o[1],d=c((0,e.useState)(!1),2),m=d[0],g=d[1],b=c((0,e.useState)(!1),2),y=b[0],v=b[1],w=c((0,e.useState)({}),2),O=w[0],h=w[1];(0,e.useEffect)(function(){0===Object.keys(f).length&&m&&E(\"\".concat(n.default,\"/login\"),i)},[f]);var E=function(e,t){var r,n;return regeneratorRuntime.async(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,regeneratorRuntime.awrap(window.fetch(e,{method:\"POST\",body:JSON.stringify(t),headers:{\"Content-Type\":\"application/json\"}}));case 2:return r=a.sent,a.next=5,regeneratorRuntime.awrap(r.json());case 5:n=a.sent,window.localStorage.setItem(\"session\",JSON.stringify(n.sid)),\"pass\"===n.msg?v(!0):h(n);case 8:case\"end\":return a.stop()}})},j=function(e){e.persist(),l(function(t){return u({},t,s({},e.target.name,e.target.value))})},P=function(e){var t={};return e.user_email?/\\S+@\\S+\\.\\S+/.test(e.user_email)||(t.user_email=\"Email address is invalid\"):t.user_email=\"User Email is required\",e.pswd||(t.pswd=\"Password is required\"),t};return e.default.createElement(\"main\",{className:\"main\"},e.default.createElement(r.default,{signup:\"signUp\"}),e.default.createElement(\"section\",{className:\"login-box\"},e.default.createElement(\"h1\",{className:\"heading\"},\"Login\"),e.default.createElement(\"p\",{className:\"sub-heading\"},\"Log in to an existing account.\"),O&&e.default.createElement(\"p\",{className:\"acc-not-exist-msg\"},\" \",O.res),e.default.createElement(\"form\",{className:\"login-form\",onSubmit:function(e){return function(e){e.preventDefault(),g(!0),p(P(i))}(e)}},e.default.createElement(\"label\",{htmlFor:\"email\",className:\"label\"},\"Email\"),e.default.createElement(\"input\",{type:\"email\",placeholder:\"Enter your Email\",id:\"email\",name:\"user_email\",className:\"input\".concat(f.user_email&&\"invalid\"),onChange:function(e){return j(e)},value:i.user_email||\"\"}),f.user_email&&e.default.createElement(\"p\",{className:\"invalid-para\"},f.user_email),e.default.createElement(\"label\",{htmlFor:\"pswd\",className:\"label\"},\"Password\"),e.default.createElement(\"input\",{type:\"password\",id:\"pswd\",name:\"pswd\",className:\"input\".concat(f.pswd&&\"invalid\"),placeholder:\"Enter the password\",onChange:function(e){return j(e)},value:i.pswd||\"\"}),f.pswd&&e.default.createElement(\"p\",{className:\"invalid-para\"},f.pswd),e.default.createElement(\"button\",{className:\"login-btn\"},\"Login\"),y&&e.default.createElement(t.Redirect,{to:\"/loggedIn\"}))))}var g=m;exports.default=g;"},"sourceMaps":null,"error":null,"hash":"4d0fc871e7b572d39ffc370b2517874c","cacheData":{"env":{}}}