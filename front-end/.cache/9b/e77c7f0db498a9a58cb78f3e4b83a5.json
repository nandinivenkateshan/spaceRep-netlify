{"id":"EW34","dependencies":[{"name":"/home/admi/work/space-rep-public/front-end/.babelrc","includedInParent":true,"mtime":1576491990768},{"name":"/home/admi/work/space-rep-public/front-end/package.json","includedInParent":true,"mtime":1576645054260},{"name":"react","loc":{"line":1,"column":43},"parent":"/home/admi/work/space-rep-public/front-end/src/components/app/addcard/Form.js","resolved":"/home/admi/work/space-rep-public/front-end/node_modules/react/index.js"},{"name":"./addcard.css","loc":{"line":2,"column":7},"parent":"/home/admi/work/space-rep-public/front-end/src/components/app/addcard/Form.js","resolved":"/home/admi/work/space-rep-public/front-end/src/components/app/addcard/addcard.css"},{"name":"showdown","loc":{"line":3,"column":21},"parent":"/home/admi/work/space-rep-public/front-end/src/components/app/addcard/Form.js","resolved":"/home/admi/work/space-rep-public/front-end/node_modules/showdown/dist/showdown.js"},{"name":"../../Config","loc":{"line":4,"column":16},"parent":"/home/admi/work/space-rep-public/front-end/src/components/app/addcard/Form.js","resolved":"/home/admi/work/space-rep-public/front-end/src/components/Config.js"},{"name":"./EnterDeck","loc":{"line":5,"column":22},"parent":"/home/admi/work/space-rep-public/front-end/src/components/app/addcard/Form.js","resolved":"/home/admi/work/space-rep-public/front-end/src/components/app/addcard/EnterDeck.js"},{"name":"./TextQA","loc":{"line":6,"column":19},"parent":"/home/admi/work/space-rep-public/front-end/src/components/app/addcard/Form.js","resolved":"/home/admi/work/space-rep-public/front-end/src/components/app/addcard/TextQA.js"},{"name":"react-router-dom","loc":{"line":7,"column":25},"parent":"/home/admi/work/space-rep-public/front-end/src/components/app/addcard/Form.js","resolved":"/home/admi/work/space-rep-public/front-end/node_modules/react-router-dom/esm/react-router-dom.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=void 0;var e=i(require(\"react\"));require(\"./addcard.css\");var t=u(require(\"showdown\")),r=u(require(\"../../Config\")),n=u(require(\"./EnterDeck\")),a=u(require(\"./TextQA\")),o=require(\"react-router-dom\");function u(e){return e&&e.__esModule?e:{default:e}}function c(){if(\"function\"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function i(e){if(e&&e.__esModule)return e;if(null===e||\"object\"!=typeof e&&\"function\"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=n?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(r,a,o):r[a]=e[a]}return r.default=e,t&&t.set(e,r),r}function s(e){return d(e)||f(e)||l()}function l(){throw new TypeError(\"Invalid attempt to spread non-iterable instance\")}function f(e){if(Symbol.iterator in Object(e)||\"[object Arguments]\"===Object.prototype.toString.call(e))return Array.from(e)}function d(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(r,!0).forEach(function(t){m(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v(e,t){return g(e)||b(e,t)||y()}function y(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}function b(e,t){if(Symbol.iterator in Object(e)||\"[object Arguments]\"===Object.prototype.toString.call(e)){var r=[],n=!0,a=!1,o=void 0;try{for(var u,c=e[Symbol.iterator]();!(n=(u=c.next()).done)&&(r.push(u.value),!t||r.length!==t);n=!0);}catch(i){a=!0,o=i}finally{try{n||null==c.return||c.return()}finally{if(a)throw o}}return r}}function g(e){if(Array.isArray(e))return e}function O(u){var c,i,l,f=u.heading,d=u.id,p=u.editCard,m=JSON.parse(window.localStorage.getItem(\"session\"));if(d){var y=new t.default.Converter;i=p[0].deck,c=y.makeMarkdown(p[0].question),l=y.makeMarkdown(p[0].answer)}var b=v((0,e.useState)(!1),2),g=b[0],O=b[1],h=v((0,e.useState)(!1),2),S=h[0],j=h[1],E=v((0,e.useState)(\"\"),2),k=E[0],P=E[1],A=v((0,e.useState)(\"\"),2),x=A[0],C=A[1],N=v((0,e.useState)([]),2),q=N[0],D=N[1],R=v((0,e.useState)(c||\"\"),2),T=R[0],I=R[1],M=v((0,e.useState)(l||\"\"),2),H=M[0],_=M[1],J=v((0,e.useState)(i||\"\"),2),Q=J[0],B=J[1],L=v((0,e.useState)([]),2),W=L[0],U=L[1];setTimeout(function(){return O(!1)},4e3);var z=function(e){if(d){var t={id:Number(d),deck:Q.toLowerCase()||i,question:k||c,answer:x||l};!function(e,t){var r,n,a;regeneratorRuntime.async(function(o){for(;;)switch(o.prev=o.next){case 0:return r=JSON.parse(window.localStorage.getItem(\"session\")),n=w({},t,{sessionId:r}),o.next=4,regeneratorRuntime.awrap(window.fetch(e,{method:\"POST\",body:JSON.stringify(n),headers:{\"Content-Type\":\"application/json\"}}));case 4:a=o.sent,j(a.ok);case 6:case\"end\":return o.stop()}})}(\"\".concat(r.default,\"/updateCard\"),t)}else{var n={deck:Q.toLowerCase(),question:k,answer:x,status:\"new\",again:\"60\",easy:\"900\",good:\"86400\"};a=\"\".concat(r.default,\"/card\"),o=n,regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return u=JSON.parse(window.localStorage.getItem(\"session\")),f=w({},o,{sessionId:u}),e.next=4,regeneratorRuntime.awrap(window.fetch(a,{method:\"POST\",body:JSON.stringify(f),headers:{\"Content-Type\":\"application/json\"}}));case 4:case\"end\":return e.stop()}}),D([n].concat(s(q))),O(!0),_(\"\"),I(\"\"),B(\"\")}var a,o,u,f;e.preventDefault()};return(0,e.useEffect)(function(){var e,t=new window.AbortController;return regeneratorRuntime.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,regeneratorRuntime.awrap(window.fetch(\"\".concat(r.default,\"/decknames/?sid=\").concat(m),{signal:t.signal}));case 2:return e=n.sent,n.next=5,regeneratorRuntime.awrap(e.json());case 5:e=n.sent,U(e);case 7:case\"end\":return n.stop()}}),function(){t.abort()}},[g]),e.default.createElement(\"form\",{onSubmit:function(e){return z(e)}},e.default.createElement(\"section\",{className:\"field\"},e.default.createElement(\"h1\",{className:\"heading\"},f),e.default.createElement(n.default,{value:Q,onEnterDeck:function(e){return function(e){return B(e.target.value.trim())}(e)},decksOpt:W,placeholder:\"Enter the deck\"}),e.default.createElement(a.default,{placeholder:\"Enter the Question\",value:T,onHandleQustion:function(e){return function(e){var t=e.target.value;I(t)}(e)},onHandleQustionBlur:function(){return e=(new t.default.Converter).makeHtml(T),void P(e);var e}}),e.default.createElement(a.default,{placeholder:\"Enter the Answer\",value:H,onHandleAnswer:function(e){return function(e){var t=e.target.value;_(t)}(e)},onHandleAnswerBlur:function(){return e=(new t.default.Converter).makeHtml(H),void C(e);var e}}),!d&&e.default.createElement(\"button\",{className:\"save-btn\"},\"Save\"),d&&e.default.createElement(\"button\",{className:\"save-btn\"},\"Update\"),g&&e.default.createElement(\"p\",{className:\"isSubmit-para\"},\"Added Successfully\"),S&&e.default.createElement(o.Redirect,{to:\"/decks\"})))}var h=O;exports.default=h;"},"sourceMaps":null,"error":null,"hash":"2dd56c4ce08969047a2e3eae7192a92a","cacheData":{"env":{}}}