{"id":"BMEC","dependencies":[{"name":"/home/admi/work/spaceRep-netlify/front-end/.babelrc","includedInParent":true,"mtime":1576491990768},{"name":"/home/admi/work/spaceRep-netlify/front-end/package.json","includedInParent":true,"mtime":1576761629129},{"name":"react","loc":{"line":1,"column":45},"parent":"/home/admi/work/spaceRep-netlify/front-end/src/components/app/decks/StudyNow.js","resolved":"/home/admi/work/spaceRep-netlify/front-end/node_modules/react/index.js"},{"name":"react-router-dom","loc":{"line":2,"column":36},"parent":"/home/admi/work/spaceRep-netlify/front-end/src/components/app/decks/StudyNow.js","resolved":"/home/admi/work/spaceRep-netlify/front-end/node_modules/react-router-dom/esm/react-router-dom.js"},{"name":"html-react-parser","loc":{"line":3,"column":18},"parent":"/home/admi/work/spaceRep-netlify/front-end/src/components/app/decks/StudyNow.js","resolved":"/home/admi/work/spaceRep-netlify/front-end/node_modules/html-react-parser/index.js"},{"name":"../navbar/Navbar","loc":{"line":4,"column":19},"parent":"/home/admi/work/spaceRep-netlify/front-end/src/components/app/decks/StudyNow.js","resolved":"/home/admi/work/spaceRep-netlify/front-end/src/components/app/navbar/Navbar.js"},{"name":"../../Config","loc":{"line":5,"column":16},"parent":"/home/admi/work/spaceRep-netlify/front-end/src/components/app/decks/StudyNow.js","resolved":"/home/admi/work/spaceRep-netlify/front-end/src/components/Config.js"},{"name":"./study.module.css","loc":{"line":6,"column":19},"parent":"/home/admi/work/spaceRep-netlify/front-end/src/components/app/decks/StudyNow.js","resolved":"/home/admi/work/spaceRep-netlify/front-end/src/components/app/decks/study.module.css"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=void 0;var e=o(require(\"react\")),t=require(\"react-router-dom\"),r=l(require(\"html-react-parser\")),n=l(require(\"../navbar/Navbar\")),a=l(require(\"../../Config\")),u=l(require(\"./study.module.css\"));function l(e){return e&&e.__esModule?e:{default:e}}function s(){if(\"function\"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function o(e){if(e&&e.__esModule)return e;if(null===e||\"object\"!=typeof e&&\"function\"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var u=n?Object.getOwnPropertyDescriptor(e,a):null;u&&(u.get||u.set)?Object.defineProperty(r,a,u):r[a]=e[a]}return r.default=e,t&&t.set(e,r),r}function i(e,t){return f(e)||d(e,t)||c()}function c(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}function d(e,t){if(Symbol.iterator in Object(e)||\"[object Arguments]\"===Object.prototype.toString.call(e)){var r=[],n=!0,a=!1,u=void 0;try{for(var l,s=e[Symbol.iterator]();!(n=(l=s.next()).done)&&(r.push(l.value),!t||r.length!==t);n=!0);}catch(o){a=!0,u=o}finally{try{n||null==s.return||s.return()}finally{if(a)throw u}}return r}}function f(e){if(Array.isArray(e))return e}function m(e){return g(e)||p(e)||w()}function w(){throw new TypeError(\"Invalid attempt to spread non-iterable instance\")}function p(e){if(Symbol.iterator in Object(e)||\"[object Arguments]\"===Object.prototype.toString.call(e))return Array.from(e)}function g(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(r,!0).forEach(function(t){v(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function v(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var h={arr:[],showStudy:!0,showQuestion:!1,showAnswer:!1,edit:!1,editId:\"\",newCards:[],learningCards:[],reviewCards:[]};function E(e,t){switch(t.type){case\"setArr\":return b({},e,{arr:m(t.newArr),newCards:m(t.newCards),learningCards:m(t.learningCards),reviewCards:m(t.reviewCards)});case\"study\":return b({},e,{showStudy:!1,showQuestion:!0});case\"question\":return b({},e,{showQuestion:!1,showAnswer:!0});case\"answer\":return b({},e,{showQuestion:!0,showAnswer:!1});case\"easyAnswer\":case\"againAnswer\":case\"goodAnswer\":return b({},e,{showQuestion:!0,showAnswer:!1,arr:m(t.newArr)});case\"edit\":return b({},e,{edit:!0,editId:t.editId});default:console.log(\"Unexpected action\")}}function N(){var l,s,o,c,d=i((0,e.useReducer)(E,h),2),f=d[0],w=d[1],p=(0,t.useParams)().id,g=JSON.parse(window.localStorage.getItem(\"session\"));function y(e,t){var r;return regeneratorRuntime.async(function(n){for(;;)switch(n.prev=n.next){case 0:return r=b({},t,{sid:g}),n.next=3,regeneratorRuntime.awrap(window.fetch(e,{method:\"POST\",body:JSON.stringify(r),headers:{\"Content-Type\":\"application/json\"}}));case 3:case\"end\":return n.stop()}})}function v(e){var t=[],r=parseInt(e/86400);r&&t.push(\" \".concat(r,\"d\")),e%=86400;var n=parseInt(e/3600);n&&t.push(\" \".concat(n,\"hour\")),e=parseInt(e%3600);var a=parseInt(e/60);a&&t.push(\" \".concat(a,\"min\"));var u=e=parseInt(e%60);return u&&t.push(u+\"sec\"),t}function N(e){w({type:\"edit\",editId:e})}return(0,e.useEffect)(function(){var e,t,r,n,u,l,s;regeneratorRuntime.async(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,regeneratorRuntime.awrap(window.fetch(\"\".concat(a.default,\"/cards/?sid=\").concat(g)));case 2:return e=o.sent,o.next=5,regeneratorRuntime.awrap(e.json());case 5:t=o.sent,r=t.filter(function(e){return e.deck===p}),n=r.reduce(function(e,t){return Number(t.deckclicktime)>=Number(t.timestamp)&&e.push(t),e},[]),u=n.filter(function(e){return\"new\"===e.status}),l=n.filter(function(e){return\"learning\"===e.status}),s=n.filter(function(e){return\"review\"===e.status}),w({type:\"setArr\",newArr:n,newCards:u,learningCards:l,reviewCards:s});case 12:case\"end\":return o.stop()}})},[]),f.showStudy&&(s=e.default.createElement(\"main\",{className:u.default.studyBox},e.default.createElement(\"h1\",{className:u.default.heading},p.toUpperCase()),e.default.createElement(\"section\",{className:u.default.details},e.default.createElement(\"div\",{className:u.default.count},e.default.createElement(\"label\",null,\"New\"),e.default.createElement(\"label\",null,f.newCards.length)),e.default.createElement(\"div\",{className:u.default.count},e.default.createElement(\"label\",null,\"In Learning\"),e.default.createElement(\"label\",null,f.learningCards.length)),e.default.createElement(\"div\",{className:u.default.count},e.default.createElement(\"label\",null,\"To Review\"),e.default.createElement(\"label\",null,f.reviewCards.length))),e.default.createElement(\"button\",{onClick:function(){w({type:\"study\"})},className:u.default.studyBtn},\"Study Now\"))),f.showQuestion&&f.arr.length&&(o=e.default.createElement(\"section\",null,e.default.createElement(\"div\",{className:\"showQuestion-box\"},e.default.createElement(\"div\",{className:\"showQuestion\"},(0,r.default)(f.arr[0].question)),e.default.createElement(\"button\",{onClick:function(){w({type:\"question\"})},className:u.default.studyBtn},\"Show Answer\")),e.default.createElement(\"button\",{className:u.default.editBtn,onClick:function(){return N(f.arr[0].id)}},\"Edit\"))),f.showAnswer&&f.arr.length&&(l=e.default.createElement(\"section\",null,e.default.createElement(\"div\",{className:u.default.showAnswerBox},e.default.createElement(\"div\",{className:u.default.showAnswer},(0,r.default)(f.arr[0].answer)),e.default.createElement(\"div\",{className:u.default.timings},e.default.createElement(\"label\",null,\"< \",v(f.arr[0].again)),e.default.createElement(\"label\",null,\"  \",v(f.arr[0].easy)),e.default.createElement(\"label\",null,v(f.arr[0].good))),e.default.createElement(\"div\",{className:u.default.answerBtns},e.default.createElement(\"button\",{onClick:function(){return function(e){var t=e.id,r=(e.status,e.again);e.easy,e.good;var n=parseInt(Date.now()/1e3);y(\"\".concat(a.default,\"/updateTimeStamp\"),{id:t,again:r,easy:86400,good:259200,timeStamp:n,status:\"learning\"}),w({type:\"againAnswer\",newArr:[].concat(m(f.arr.slice(1)),[f.arr[0]])})}(f.arr[0])},className:u.default.btn},\"Again\"),e.default.createElement(\"button\",{onClick:function(){return function(e){console.log(\"array\",e);var t=e.id,r=e.status,n=e.easy,u=e.good,l=e.again,s=n,o=r;\"new\"===o&&(r=\"learning\",n=86400,u=259200),\"learning\"===o&&(r=\"review\",n=172800,u=345600),\"review\"===o&&(n=Number(n)+172800,u=Number(u)+345600);var i=parseInt(Date.now()/1e3)+Number(s);y(\"\".concat(a.default,\"/updateTimeStamp\"),{id:t,easy:n,good:u,again:l,timeStamp:i,status:r}),w({type:\"easyAnswer\",newArr:f.arr.slice(1)})}(f.arr[0])},className:u.default.btn},\"Easy\"),e.default.createElement(\"button\",{onClick:function(){return function(e){var t=e.id,r=e.status,n=e.good,u=e.easy,l=e.again,s=n,o=r;\"new\"===o&&(r=\"learning\",u=86400,n=259200),\"learning\"===o&&(r=\"review\",u=172800,n=345600),\"review\"===o&&(u=Number(u)+172800,n=Number(n)+345600);var i=parseInt(Date.now()/1e3)+Number(s);y(\"\".concat(a.default,\"/updateTimeStamp\"),{id:t,good:n,easy:u,again:l,timeStamp:i,status:r}),w({type:\"goodAnswer\",newArr:f.arr.slice(1)})}(f.arr[0])},className:u.default.btn},\"Good\"))),e.default.createElement(\"button\",{className:u.default.editBtn,onClick:function(){return N(f.arr[0].id)}},\"Edit\"))),f.arr.length||(c=e.default.createElement(\"p\",{className:u.default.congratsMsg},\"Congratulations ! You have finished this deck for now\")),e.default.createElement(\"main\",null,console.log(u.default),e.default.createElement(n.default,null),f.edit&&e.default.createElement(t.Redirect,{to:\"/edit/\".concat(f.editId)}),s||l||o||c)}var O=N;exports.default=O;"},"sourceMaps":null,"error":null,"hash":"39a22ff3227afff5e8809e4c8ca4b8c5","cacheData":{"env":{}}}