{"id":"BMEC","dependencies":[{"name":"/home/admi/work/space-rep-public/front-end/.babelrc","includedInParent":true,"mtime":1576491990768},{"name":"/home/admi/work/space-rep-public/front-end/package.json","includedInParent":true,"mtime":1576645054260},{"name":"react","loc":{"line":1,"column":45},"parent":"/home/admi/work/space-rep-public/front-end/src/components/app/decks/StudyNow.js","resolved":"/home/admi/work/space-rep-public/front-end/node_modules/react/index.js"},{"name":"react-router-dom","loc":{"line":2,"column":36},"parent":"/home/admi/work/space-rep-public/front-end/src/components/app/decks/StudyNow.js","resolved":"/home/admi/work/space-rep-public/front-end/node_modules/react-router-dom/esm/react-router-dom.js"},{"name":"html-react-parser","loc":{"line":3,"column":18},"parent":"/home/admi/work/space-rep-public/front-end/src/components/app/decks/StudyNow.js","resolved":"/home/admi/work/space-rep-public/front-end/node_modules/html-react-parser/index.js"},{"name":"../navbar/Navbar","loc":{"line":4,"column":19},"parent":"/home/admi/work/space-rep-public/front-end/src/components/app/decks/StudyNow.js","resolved":"/home/admi/work/space-rep-public/front-end/src/components/app/navbar/Navbar.js"},{"name":"../../Config","loc":{"line":5,"column":16},"parent":"/home/admi/work/space-rep-public/front-end/src/components/app/decks/StudyNow.js","resolved":"/home/admi/work/space-rep-public/front-end/src/components/Config.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=void 0;var e=l(require(\"react\")),t=require(\"react-router-dom\"),r=o(require(\"html-react-parser\")),n=o(require(\"../navbar/Navbar\")),a=o(require(\"../../Config\"));function o(e){return e&&e.__esModule?e:{default:e}}function s(){if(\"function\"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function l(e){if(e&&e.__esModule)return e;if(null===e||\"object\"!=typeof e&&\"function\"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=n?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(r,a,o):r[a]=e[a]}return r.default=e,t&&t.set(e,r),r}function u(e,t){return d(e)||c(e,t)||i()}function i(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}function c(e,t){if(Symbol.iterator in Object(e)||\"[object Arguments]\"===Object.prototype.toString.call(e)){var r=[],n=!0,a=!1,o=void 0;try{for(var s,l=e[Symbol.iterator]();!(n=(s=l.next()).done)&&(r.push(s.value),!t||r.length!==t);n=!0);}catch(u){a=!0,o=u}finally{try{n||null==l.return||l.return()}finally{if(a)throw o}}return r}}function d(e){if(Array.isArray(e))return e}function f(e){return p(e)||w(e)||m()}function m(){throw new TypeError(\"Invalid attempt to spread non-iterable instance\")}function w(e){if(Symbol.iterator in Object(e)||\"[object Arguments]\"===Object.prototype.toString.call(e))return Array.from(e)}function p(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(r,!0).forEach(function(t){y(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var v={arr:[],showStudy:!0,showQuestion:!1,showAnswer:!1,edit:!1,editId:\"\",newCards:[],learningCards:[],reviewCards:[]};function h(e,t){switch(t.type){case\"setArr\":return b({},e,{arr:f(t.newArr),newCards:f(t.newCards),learningCards:f(t.learningCards),reviewCards:f(t.reviewCards)});case\"study\":return b({},e,{showStudy:!1,showQuestion:!0});case\"question\":return b({},e,{showQuestion:!1,showAnswer:!0});case\"answer\":return b({},e,{showQuestion:!0,showAnswer:!1});case\"easyAnswer\":case\"againAnswer\":case\"goodAnswer\":return b({},e,{showQuestion:!0,showAnswer:!1,arr:f(t.newArr)});case\"edit\":return b({},e,{edit:!0,editId:t.editId});default:console.log(\"Unexpected action\")}}function E(){var o,s,l,i,c=u((0,e.useReducer)(h,v),2),d=c[0],m=c[1],w=(0,t.useParams)().id,p=JSON.parse(window.localStorage.getItem(\"session\"));function g(e,t){var r;return regeneratorRuntime.async(function(n){for(;;)switch(n.prev=n.next){case 0:return r=b({},t,{sid:p}),n.next=3,regeneratorRuntime.awrap(window.fetch(e,{method:\"POST\",body:JSON.stringify(r),headers:{\"Content-Type\":\"application/json\"}}));case 3:case\"end\":return n.stop()}})}function y(e){var t=[],r=parseInt(e/86400);r&&t.push(\" \".concat(r,\"d\")),e%=86400;var n=parseInt(e/3600);n&&t.push(\" \".concat(n,\"hour\")),e=parseInt(e%3600);var a=parseInt(e/60);a&&t.push(\" \".concat(a,\"min\"));var o=e=parseInt(e%60);return o&&t.push(o+\"sec\"),t}function E(e){m({type:\"edit\",editId:e})}return(0,e.useEffect)(function(){var e,t,r,n,o,s,l;regeneratorRuntime.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,regeneratorRuntime.awrap(window.fetch(\"\".concat(a.default,\"/cards/?sid=\").concat(p)));case 2:return e=u.sent,u.next=5,regeneratorRuntime.awrap(e.json());case 5:t=u.sent,r=t.filter(function(e){return e.deck===w}),console.log(\"dta\",r),n=r.reduce(function(e,t){return Number(t.deckclicktime)>=Number(t.timestamp)&&e.push(t),e},[]),o=n.filter(function(e){return\"new\"===e.status}),console.log(\"new\",o),s=n.filter(function(e){return\"learning\"===e.status}),console.log(\"learn\",s),l=n.filter(function(e){return\"review\"===e.status}),console.log(\"review\",l),m({type:\"setArr\",newArr:n,newCards:o,learningCards:s,reviewCards:l});case 16:case\"end\":return u.stop()}})},[]),d.showStudy&&(s=e.default.createElement(\"main\",{className:\"study-box\"},e.default.createElement(\"h1\",{className:\"heading\"},w.toUpperCase()),e.default.createElement(\"section\",{className:\"details\"},e.default.createElement(\"div\",{className:\"count\"},e.default.createElement(\"label\",null,\"New\"),e.default.createElement(\"label\",null,d.newCards.length)),e.default.createElement(\"div\",{className:\"count\"},e.default.createElement(\"label\",null,\"In Learning\"),e.default.createElement(\"label\",null,d.learningCards.length)),e.default.createElement(\"div\",{className:\"count\"},e.default.createElement(\"label\",null,\"To Review\"),e.default.createElement(\"label\",null,d.reviewCards.length))),e.default.createElement(\"button\",{onClick:function(){m({type:\"study\"})},className:\"study-btn\"},\"Study Now\"))),d.showQuestion&&d.arr.length&&(l=e.default.createElement(\"section\",null,e.default.createElement(\"div\",{className:\"showQuestion-box\"},e.default.createElement(\"div\",{className:\"showQuestion\"},(0,r.default)(d.arr[0].question)),e.default.createElement(\"button\",{onClick:function(){m({type:\"question\"})},className:\"study-btn\"},\"Show Answer\")),e.default.createElement(\"button\",{className:\"edit-btn\",onClick:function(){return E(d.arr[0].id)}},\"Edit\"))),d.showAnswer&&d.arr.length&&(o=e.default.createElement(\"section\",null,e.default.createElement(\"div\",{className:\"showAnswer-box\"},e.default.createElement(\"div\",{className:\"showAnswer\"},(0,r.default)(d.arr[0].answer)),e.default.createElement(\"div\",{className:\"timings\"},e.default.createElement(\"label\",null,\"< \",y(d.arr[0].again)),e.default.createElement(\"label\",null,\"  \",y(d.arr[0].easy)),e.default.createElement(\"label\",null,y(d.arr[0].good))),e.default.createElement(\"div\",{className:\"answer-btns\"},e.default.createElement(\"button\",{onClick:function(){return function(e){var t=e.id,r=(e.status,e.again);e.easy,e.good;var n=parseInt(Date.now()/1e3);g(\"\".concat(a.default,\"/updateTimeStamp\"),{id:t,again:r,easy:86400,good:259200,timeStamp:n,status:\"learning\"}),m({type:\"againAnswer\",newArr:[].concat(f(d.arr.slice(1)),[d.arr[0]])})}(d.arr[0])},className:\"btn\"},\"Again\"),e.default.createElement(\"button\",{onClick:function(){return function(e){console.log(\"array\",e);var t=e.id,r=e.status,n=e.easy,o=e.good,s=e.again,l=n,u=r;\"new\"===u&&(console.log(\"new cards\"),r=\"learning\",n=86400,o=259200),\"learning\"===u&&(console.log(\"learning card\"),r=\"review\",n=172800,o=345600),\"review\"===u&&(n=Number(n)+172800,o=Number(o)+345600);var i=parseInt(Date.now()/1e3)+Number(l);g(\"\".concat(a.default,\"/updateTimeStamp\"),{id:t,easy:n,good:o,again:s,timeStamp:i,status:r}),m({type:\"easyAnswer\",newArr:d.arr.slice(1)})}(d.arr[0])},className:\"btn\"},\"Easy\"),e.default.createElement(\"button\",{onClick:function(){return function(e){var t=e.id,r=e.status,n=e.good,o=e.easy,s=e.again,l=n,u=r;\"new\"===u&&(r=\"learning\",o=86400,n=259200),\"learning\"===u&&(r=\"review\",o=172800,n=345600),\"review\"===u&&(o=Number(o)+172800,n=Number(n)+345600);var i=parseInt(Date.now()/1e3)+Number(l);g(\"\".concat(a.default,\"/updateTimeStamp\"),{id:t,good:n,easy:o,again:s,timeStamp:i,status:r}),m({type:\"goodAnswer\",newArr:d.arr.slice(1)})}(d.arr[0])},className:\"btn\"},\"Good\"))),e.default.createElement(\"button\",{className:\"edit-btn\",onClick:function(){return E(d.arr[0].id)}},\"Edit\"))),d.arr.length||(i=e.default.createElement(\"p\",{className:\"congrats-msg\"},\"Congratulations ! You have finished this deck for now\")),e.default.createElement(\"main\",{className:\"main\"},e.default.createElement(n.default,null),d.edit&&e.default.createElement(t.Redirect,{to:\"/edit/\".concat(d.editId)}),s||o||l||i)}var N=E;exports.default=N;"},"sourceMaps":null,"error":null,"hash":"f9fc1495838ed8ecba313e1a08507211","cacheData":{"env":{}}}